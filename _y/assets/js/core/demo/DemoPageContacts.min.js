(function(namespace,$){"use strict";var DemoPageContacts=function(){var o=this;$(document).ready(function(){o.initialize()})};var p=DemoPageContacts.prototype;p.map=null;p.initialize=function(){this._initDuplicateSource();this._initSummernote();this._initDatetime();this._initMultiselect();this._initGMaps();this._initInputMask()};p._initDuplicateSource=function(e){var o=this;$("[data-duplicate]").on("click",function(e){var item=$(this);var templateId=item.data("duplicate");var target=$(item.data("target"));o._duplicateTemplate(templateId,target)});$("[data-duplicate]").each(function(){var item=$(this);var templateId=item.data("duplicate");var target=$(item.data("target"));o._duplicateTemplate(templateId,target)})};p._duplicateTemplate=function(templateId,target){if(typeof tmpl==="undefined"){return}var o=this;var index=target.data("index")>0?target.data("index"):target.children().length+1;target.data("index",index+1);var clonedContent=tmpl(templateId,{index:index});var newContent=$(clonedContent).appendTo(target).hide().slideDown("fast");this._initDatetime(newContent,index);newContent.on("click",".btn-delete",function(e){newContent.slideUp("fast",function(){newContent.remove()})})};p._initGMaps=function(){if(typeof GMaps==="undefined"){return}if($("#map-canvas").length===0){return}this.map=new GMaps({div:"#map-canvas",lat:52.37695,lng:4.898365,zoom:11,disableDefaultUI:true});this.map.addMarker({lat:52.3705,lng:4.90454,title:"Amsterdam",click:function(e){alert("You clicked in this marker")}});this._initGMapsEvents()};p._initGMapsEvents=function(){var o=this;$("#street, #streetnumber, #city, #zip").on("change",function(e){o._startGeocoding()})};p._startGeocoding=function(){var o=this;GMaps.geocode({address:o._formatAddress(),callback:function(results,status){if(status==="OK"){o._addMarker(results,status)}}})};p._addMarker=function(results,status){this.map.removeMarkers();var latlng=results[0].geometry.location;this.map.setCenter(latlng.lat(),latlng.lng());this.map.addMarker({lat:latlng.lat(),lng:latlng.lng()})};p._formatAddress=function(results,status){var address=[];var street=$("#street").val()+" "+$("#streetnumber").val();var city=$("#city").val();var zip=$("#zip").val();if($.trim(street)!==""){address.push(street)}if($.trim(city)!==""){address.push(city)}if($.trim(zip)!==""){address.push(zip)}return address.join(",")};p._initSummernote=function(){if(!$.isFunction($.fn.summernote)){return}if($("#summernote").length===0){return}$("#summernote").summernote({height:$("#summernote").height(),toolbar:[["style",["bold","italic","underline","clear"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]]})};p._initMultiselect=function(){if(!$.isFunction($.fn.multiselect)){return}$('select[name="category"]').multiselect({buttonClass:"form-control",buttonContainer:'<div class="btn-group btn-group-justified" />'})};p._initDatetime=function(){if(!$.isFunction($.fn.datepicker)){return}$(".input-daterange").datepicker({todayHighlight:true})};p._initInputMask=function(){if(!$.isFunction($.fn.inputmask)){return}$(":input").inputmask()};namespace.DemoPageContacts=new DemoPageContacts})(this.materialadmin,jQuery);