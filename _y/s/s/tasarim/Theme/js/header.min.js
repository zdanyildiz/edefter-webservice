const HeaderThemes={light:{"header-bg-color":"#ffffff","main-menu-bg-color":"#ffffff","main-menu-link-color":"#333333","main-menu-link-hover-color":"#4285f4","main-menu-link-bg-color":"transparent","main-menu-link-hover-bg-color":"#f8f9fa","main-menu-ul-bg-color":"#ffffff","main-menu-ul-submenu-link-color":"#333333","main-menu-ul-submenu-link-hover-color":"#4285f4","main-menu-ul-submenu-link-bg-color":"#ffffff","main-menu-ul-submenu-link-hover-bg-color":"#f8f9fa"},dark:{"header-bg-color":"#2c3e50","main-menu-bg-color":"#2c3e50","main-menu-link-color":"#ecf0f1","main-menu-link-hover-color":"#3498db","main-menu-link-bg-color":"transparent","main-menu-link-hover-bg-color":"#34495e","main-menu-ul-bg-color":"#34495e","main-menu-ul-submenu-link-color":"#ecf0f1","main-menu-ul-submenu-link-hover-color":"#3498db","main-menu-ul-submenu-link-bg-color":"#34495e","main-menu-ul-submenu-link-hover-bg-color":"#2c3e50"},transparent:{"header-bg-color":"rgba(255,255,255,0.95)","main-menu-bg-color":"transparent","main-menu-link-color":"#333333","main-menu-link-hover-color":"#4285f4","main-menu-link-bg-color":"transparent","main-menu-link-hover-bg-color":"rgba(66,133,244,0.1)","main-menu-ul-bg-color":"#ffffff","main-menu-ul-submenu-link-color":"#333333","main-menu-ul-submenu-link-hover-color":"#4285f4","main-menu-ul-submenu-link-bg-color":"#ffffff","main-menu-ul-submenu-link-hover-bg-color":"#f8f9fa"}};function applyHeaderTheme(e){window.themeEditorInstance&&window.themeEditorInstance.applyHeaderTheme(e)}"undefined"!=typeof ThemeEditor&&(ThemeEditor.prototype.applyHeaderTheme=function(e){const o=HeaderThemes[e];o&&(Object.keys(o).forEach((e=>{const i=$(`input[name="${e}"], select[name="${e}"]`);i.length>0&&i.val(o[e]).trigger("change")})),this.updatePreview(),this.showNotification(`${e.charAt(0).toUpperCase()+e.slice(1)} header teması uygulandı!`,"success"))},ThemeEditor.prototype.updateHeaderPreview=function(e){this.updateTopContactPreview(e),this.updateHeaderDesktopPreview(e),this.updateHeaderMobilePreview(e),this.updateShopIconsPreview(e),this.updateMenuPreview(e),$(".dual-preview-container").length>0&&this.updateDualPreview(e)},ThemeEditor.prototype.updateTopContactPreview=function(e){const o=document.documentElement;["top-contact-and-social-bg-color","top-contact-and-social-link-color","top-contact-and-social-link-hover-color","top-contact-and-social-icon-color","top-contact-and-social-icon-hover-color","top-contact-and-social-container-margin-top"].forEach((i=>{if(e[i]){let n=e[i];i.includes("margin")&&!isNaN(n)&&""!==n&&(n+="px"),o.style.setProperty(`--${i}`,n)}})),["top-contact-and-social-bg-color-mobile","top-contact-and-social-link-color-mobile","top-contact-and-social-link-hover-color-mobile","top-contact-and-social-icon-color-mobile","top-contact-and-social-icon-hover-color-mobile","top-contact-and-social-container-mobile-margin-top"].forEach((i=>{if(e[i]){let n=e[i];i.includes("margin")&&!isNaN(n)&&""!==n&&(n+="px"),o.style.setProperty(`--${i}`,n)}}));const i=document.querySelector("#topContactPreview");i&&e["top-contact-and-social-bg-color"]&&(i.style.background=e["top-contact-and-social-bg-color"]);const n=document.querySelector("#mobileHeaderPreview > div:first-child");if(n){const o=e["top-contact-and-social-bg-color-mobile"]||e["top-contact-and-social-bg-color"];o&&(n.style.background=o)}setTimeout((()=>{i&&(i.style.display="none",i.offsetHeight,i.style.display="flex");const e=document.querySelector("#mobileHeaderPreview");e&&(e.style.display="none",e.offsetHeight,e.style.display="block")}),10)},ThemeEditor.prototype.updateHeaderDesktopPreview=function(e){const o=document.querySelector("#headerPreviewContent");if(!o)return;const i=e["header-bg-color"]||"#ffffff",n=e["header-border-width"]||"1",t=e["header-border-color"]||"#e9ecef",r=e["header-padding"]||"15",a=e["header-min-height"]||"80",l=e["header-logo-width"]||"150",c=e["primary-color"]||"#4285f4";o.style.background=i,o.style.borderBottom=`${n}px solid ${t}`,o.style.padding=`${r}px`,o.style.minHeight=`${a}px`;const d=o.querySelector('div[style*="LOGO"]');d&&(d.style.width=`${l}px`,d.style.background=c)},ThemeEditor.prototype.updateHeaderMobilePreview=function(e){const o=document.querySelector("#mobilePreview > div, #dualMobileHeaderPreview > div:nth-child(2)");if(!o)return;const i=e["header-mobile-bg-color"],n=e["header-mobile-border-width"],t=e["header-mobile-border-color"],r=e["header-mobile-padding"],a=e["header-mobile-min-height"],l=e["header-mobile-logo-width"],c=e["primary-color"];o.style.background=i,o.style.borderBottom=`${n}px solid ${t}`,o.style.padding=`${r}px`,o.style.minHeight=`${a}px`;const d=o.querySelector('div[style*="LOGO"]');d&&(d.style.width=`${l}px`,d.style.background=c)},ThemeEditor.prototype.updateShopIconsPreview=function(e){const o=e["shop-menu-container-icon-color-search"],i=e["shop-menu-container-icon-color-member"],n=e["shop-menu-container-icon-color-favorites"],t=e["shop-menu-container-icon-color-basket"],r=e["shop-menu-container-icon-hover-color"],a=document.querySelector("#headerPreviewContent");if(a){const e=a.querySelector(".fa-search");e&&(e.style.color=o,e.onmouseover=()=>e.style.color=r,e.onmouseout=()=>e.style.color=o);const l=a.querySelector(".fa-user");l&&(l.style.color=i,l.onmouseover=()=>l.style.color=r,l.onmouseout=()=>l.style.color=i);const c=a.querySelector(".fa-heart");c&&(c.style.color=n,c.onmouseover=()=>c.style.color=r,c.onmouseout=()=>c.style.color=n);const d=a.querySelector(".fa-shopping-cart");d&&(d.style.color=t,d.onmouseover=()=>d.style.color=r,d.onmouseout=()=>d.style.color=t)}this.updateMobileShopIconsPreview(e)},ThemeEditor.prototype.updateMobileShopIconsPreview=function(e){const o=document.documentElement;["mobile-action-icon-phone-bg-color","mobile-action-icon-whatsapp-bg-color","mobile-action-icon-basket-bg-color","mobile-action-icon-basket-counter-bg-color","mobile-action-icon-size","mobile-action-icon-gap"].forEach((i=>{if(e[i]){let n=e[i];!i.includes("size")&&!i.includes("gap")||isNaN(n)||""===n||(n+="px"),o.style.setProperty(`--${i}`,n)}}));const i=document.querySelector("#mobileHeaderPreview div:last-child > div:last-child");if(i){e["mobile-action-icon-gap"]&&(i.style.gap=e["mobile-action-icon-gap"]+"px");const o=i.children;if(o[0]&&e["mobile-action-icon-phone-bg-color"]&&(o[0].style.background=e["mobile-action-icon-phone-bg-color"],e["mobile-action-icon-size"]&&(o[0].style.width=e["mobile-action-icon-size"]+"px",o[0].style.height=e["mobile-action-icon-size"]+"px")),o[1]&&e["mobile-action-icon-whatsapp-bg-color"]&&(o[1].style.background=e["mobile-action-icon-whatsapp-bg-color"],e["mobile-action-icon-size"]&&(o[1].style.width=e["mobile-action-icon-size"]+"px",o[1].style.height=e["mobile-action-icon-size"]+"px")),o[2]){e["mobile-action-icon-basket-bg-color"]&&(o[2].style.background=e["mobile-action-icon-basket-bg-color"]),e["mobile-action-icon-size"]&&(o[2].style.width=e["mobile-action-icon-size"]+"px",o[2].style.height=e["mobile-action-icon-size"]+"px");const i=o[2].querySelector("div");i&&e["mobile-action-icon-basket-counter-bg-color"]&&(i.style.background=e["mobile-action-icon-basket-counter-bg-color"])}}},ThemeEditor.prototype.initHeaderPreviewToggle=function(){const e=this;$(document).on("click","#toggleHeaderPreview",(function(o){return o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),e.isHeaderToggling||(e.isHeaderToggling=!0,setTimeout((()=>{e.toggleHeaderPreview("desktop"),setTimeout((()=>{e.isHeaderToggling=!1}),500)}),100)),!1})),$(document).on("click","#toggleMobileHeaderPreview",(function(o){return o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),e.isHeaderToggling||(e.isHeaderToggling=!0,setTimeout((()=>{e.toggleHeaderPreview("mobile"),setTimeout((()=>{e.isHeaderToggling=!1}),500)}),100)),!1})),$(document).on("click","#openDualPreview, #openDualPreviewFromMobile",(function(o){return o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),e.isHeaderToggling||(e.isHeaderToggling=!0,setTimeout((()=>{e.openDualPreview(),e.isHeaderToggling=!1}),100)),!1}))},ThemeEditor.prototype.toggleHeaderPreview=function(e){if($(".dual-preview-container").length>0)return void this.closeDualPreview();const o="desktop"===e,i=o?"#headerPreviewToggleIcon":"#mobileHeaderPreviewToggleIcon",n=o?"header-preview-pinned":"mobile-header-preview-pinned",t=o?"#toggleHeaderPreview":"#toggleMobileHeaderPreview",r=o?"header-preview-fixed":"mobile-header-preview-fixed",a=$(o?"#headerPreviewCard":"#mobileHeaderPreviewCard"),l=$(i),c=$(t),d=$("body");0!==a.length&&(a.hasClass(r)?this.unpinHeaderPreview(e,a,l,c,d,n):this.openDualPreview())},ThemeEditor.prototype.openDualPreview=function(){$(".header-preview-fixed, .mobile-header-preview-fixed").removeClass("header-preview-fixed mobile-header-preview-fixed"),$("body").removeClass("header-preview-pinned mobile-header-preview-pinned"),$("#headerPreviewToggleIcon, #mobileHeaderPreviewToggleIcon").removeClass("fa-compress").addClass("fa-expand"),$("#toggleHeaderPreview, #toggleMobileHeaderPreview").removeClass("preview-pinned");const e=`\n            <div class="dual-preview-container" id="dualPreviewContainer">\n                <button type="button" class="dual-preview-close" id="closeDualPreview" title="Önizlemeyi kapat">\n                    <i class="fa fa-times"></i>\n                </button>\n                \n                <div class="dual-preview-desktop">\n                    <div class="card-header">\n                        <h5><i class="fa fa-desktop"></i> Desktop Header Preview</h5>\n                    </div>\n                    <div class="card-body">\n                        <div class="theme-preview" id="dualDesktopHeaderPreview">\n                            ${$("#topContactPreview").prop("outerHTML")}\n                            ${$("#headerPreviewContent").prop("outerHTML")}\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="dual-preview-mobile">\n                    <div class="card-header">\n                        <h5><i class="fa fa-mobile"></i> Mobile Header Preview</h5>\n                    </div>\n                    <div class="card-body">\n                        <div class="theme-preview" id="dualMobileHeaderPreview">\n                            ${$("#mobileHeaderPreview").html()}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;$("body").append(e),$("body").addClass("dual-preview-active"),$("#headerPreviewRow").addClass("hidden"),$(document).on("click","#closeDualPreview",(()=>{this.closeDualPreview()})),$(document).on("keydown.dualpreview",(e=>{27===e.keyCode&&this.closeDualPreview()})),$("#headerPreviewToggleIcon, #mobileHeaderPreviewToggleIcon").removeClass("fa-expand").addClass("fa-compress"),$("#toggleHeaderPreview, #toggleMobileHeaderPreview").addClass("preview-pinned"),setTimeout((()=>{$("html, body").animate({scrollTop:0},300)}),100),this.showNotification("🔄 Dual Preview: Desktop ve Mobile header yan yana görüntüleniyor","success",3e3)},ThemeEditor.prototype.closeDualPreview=function(){$(".dual-preview-container").addClass("header-preview-removing"),setTimeout((()=>{$(".dual-preview-container").remove(),$("body").removeClass("dual-preview-active"),$(document).off("keydown.dualpreview"),$(document).off("click","#closeDualPreview"),$("#headerPreviewToggleIcon, #mobileHeaderPreviewToggleIcon").removeClass("fa-compress").addClass("fa-expand"),$("#toggleHeaderPreview, #toggleMobileHeaderPreview").removeClass("preview-pinned")}),300),$("#headerPreviewRow").removeClass("hidden"),this.showNotification("📍 Dual Preview kapatıldı","info",2e3)},ThemeEditor.prototype.updateDualPreview=function(e){const o=$("#dualDesktopHeaderPreview"),i=$("#dualMobileHeaderPreview");if(o.length>0){const e=$("#topContactPreview").prop("outerHTML"),i=$("#headerPreviewContent").prop("outerHTML");o.html(`\n                ${e}\n                ${i}\n            `)}if(i.length>0){const e=$("#mobileHeaderPreview").html();i.html(e)}});