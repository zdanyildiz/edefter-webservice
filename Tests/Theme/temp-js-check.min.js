$(document).ready(function(){console.log("Theme.php DOM ready - Tab sistemi başlatılıyor...");$("#themephp").addClass("active");$("#languageSelect").change(function(){window.location.href="?languageID="+$(this).val()});validateAllInputs();try{$('#themeTabs button[data-toggle="tab"]').tab()}catch(e){console.log("Bootstrap tab plugin bulunamadı, manuel başlatma yapılıyor...");$('#themeTabs button[data-toggle="tab"]').click(function(e){e.preventDefault();$("#themeTabs .nav-link").removeClass("active");$(".tab-pane").removeClass("active in show");$(this).addClass("active");const target=$(this).attr("data-target");$(target).addClass("active in");console.log("Manual tab switched to:",target)})}$('#themeTabs button[data-toggle="tab"]').on("shown.bs.tab",function(e){console.log("Tab changed to:",e.target.id)});$(".color-picker").off("colorpicker");$(".nav-tabs .nav-link:first").addClass("active");$(".tab-content .tab-pane:first").addClass("active in");$(".nav-tabs .nav-link").click(function(e){e.preventDefault();const target=$(this).attr("data-target");$(".nav-tabs .nav-link").removeClass("active");$(".tab-pane").removeClass("active in show");$(this).addClass("active");$(target).addClass("active in");console.log("Tab switched to:",target)});validateAllInputs();if(typeof window.themeEditorInstance!=="undefined"){setTimeout(()=>{window.themeEditorInstance.updatePreview();console.log("🚀 İlk yüklemede önizleme güncellendi")},500)}});function validateColorInputs(){$(".color-picker").each(function(){const $input=$(this);let value=$input.val();if(!value||value.trim()===""){value="#ffffff"}if(value&&!value.startsWith("#")){value="#"+value}if(!isValidHexColor(value)){const fallbackColor=$input.data("fallback")||"#ffffff";$input.val(fallbackColor);console.log("Fixed invalid color value:",value,"to",fallbackColor)}else if($input.val()!==value){$input.val(value);console.log("Formatted color value:",$input.val(),"to",value)}})}function validateNumericInputs(){$('input[type="number"]').each(function(){const $input=$(this);const value=$input.val();if(value&&isNaN(parseFloat(value))){const fallbackValue=$input.data("fallback")||"0";$input.val(fallbackValue);console.log("Fixed invalid numeric value:",value,"to",fallbackValue)}})}function validateAllInputs(){validateColorInputs();validateNumericInputs()}function isValidHexColor(hex){return/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hex)}$(document).ready(function(){console.log("🔍 Header Preview Toggle Debug Başlatıldı");const headerBtn=$("#toggleHeaderPreview");const mobileBtn=$("#toggleMobileHeaderPreview");console.log("📋 Buton kontrolü:",{headerBtn:headerBtn.length,mobileBtn:mobileBtn.length,themeEditor:typeof window.themeEditorInstance});setTimeout(()=>{console.log("⏰ Gecikmeli instance kontrolü:",{themeEditorInstance:typeof window.themeEditorInstance,methods:window.themeEditorInstance?Object.getOwnPropertyNames(Object.getPrototypeOf(window.themeEditorInstance)):"N/A"})},2e3);window.testHeaderPin=function(){console.log("🧪 TEST: Header pin test başlatıldı");const $card=$("#headerPreviewCard");console.log("📋 Test card durumu:",{exists:$card.length,visible:$card.is(":visible"),classes:$card.attr("class")});$card.addClass("header-preview-fixed");$("body").addClass("header-preview-pinned");console.log("✅ Manuel fixed class eklendi");setTimeout(()=>{console.log("⏰ 3 saniye sonra durum:",{hasFixedClass:$card.hasClass("header-preview-fixed"),position:$card.css("position"),top:$card.css("top"),zIndex:$card.css("z-index")})},3e3)};console.log("🧪 Test fonksiyonu hazır: window.testHeaderPin()")});function initBannersTab(){$('input[name="banner-overlay-opacity"]').on("input",function(){$("#overlay-opacity-value").text($(this).val())});$('input[name="card-shadow-opacity"]').on("input",function(){$("#shadow-opacity-value").text($(this).val())})}function initFormsTab(){$(".preview-input, .preview-textarea").focus(function(){$(".error-message").hide();$(".success-message").hide()});$(".btn-primary-preview").click(function(){$(".error-message").hide();$(".success-message").show().delay(3e3).fadeOut()});$(".btn-secondary-preview").click(function(){$(".success-message").hide();$(".error-message").show().delay(3e3).fadeOut()});$(".btn-outline-preview").click(function(){$(".preview-input, .preview-textarea").val("");$(".error-message, .success-message").hide()})}function initResponsiveTab(){$(".responsive-preview-tabs .btn").click(function(){const device=$(this).data("device");$(".responsive-preview-tabs .btn").removeClass("active");$(this).addClass("active");$(".preview-frame").removeClass("active");$(`.${device}-frame`).addClass("active")})}function initThemesTab(){$(".theme-card").click(function(){$(".theme-card").removeClass("active");$(this).addClass("active");const theme=$(this).data("theme")});$(".apply-theme-btn").click(function(e){e.stopPropagation();const themeName=$(this).data("theme");console.log("Theme apply:",themeName)});$(".theme-card:first").addClass("active")}$(document).ready(function(){console.log("🔧 Tab modülleri başlatılıyor...");setTimeout(()=>{initBannersTab();initFormsTab();initResponsiveTab();initThemesTab();console.log("✅ Tüm tab modülleri başlatıldı")},1e3)});window.exportCurrentTheme=function(){console.log("📤 Export theme - yakında eklenecek")};window.importThemeFile=function(){console.log("📥 Import theme - yakında eklenecek")};window.applyPredefinedTheme=function(themeName){console.log("🎨 Apply theme:",themeName,"- yakında eklenecek")};